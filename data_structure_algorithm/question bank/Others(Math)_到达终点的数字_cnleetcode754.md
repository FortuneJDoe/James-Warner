[754 åˆ°è¾¾ç»ˆç‚¹æ•°å­— cn-leetcode](https://leetcode.cn/problems/reach-a-number/description/)
<br>åœ¨ä¸€æ ¹æ— é™é•¿çš„æ•°è½´ä¸Šï¼Œä½ ç«™åœ¨<kbd>0</kbd>çš„ä½ç½®ã€‚ç»ˆç‚¹åœ¨<kbd>target</kbd>çš„ä½ç½®
<br>ä½ å¯ä»¥åšä¸€äº›æ•°é‡çš„ç§»åŠ¨<kbd>numMoves</kbd>:
<ul>
<li>æ¯æ¬¡ä½ å¯ä»¥é€‰æ‹©å‘å·¦æˆ–å‘å³ç§»åŠ¨</li>
<li>ç¬¬<kbd>i</kbd>æ¬¡ç§»åŠ¨(ä»<kbd>i==1</kbd>å¼€å§‹ï¼Œåˆ°<kbd>i==numMoves</kbd>)ï¼Œåœ¨é€‰æ‹©çš„æ–¹å‘ä¸Šèµ°<kbd>i</kbd>æ­¥</li>
</ul>

ç»™å®šæ•´æ•°<kbd>target</kbd>ï¼Œè¿”å›*åˆ°è¾¾ç›®æ ‡æ‰€éœ€çš„* **æœ€å°** ç§»åŠ¨æ¬¡æ•°(å³æœ€å°<kbd>numMoves</kbd>)

**ç¤ºä¾‹1**
>è¾“å…¥ï¼š
> <br>&emsp;&emsp;target = 2
> 
>è¾“å‡ºï¼š
> <br>&emsp;&emsp;3
> 
>è§£é‡Šï¼š
> <br>&emsp;&emsp;ç¬¬ä¸€æ¬¡ç§»åŠ¨ï¼Œä» 0 åˆ° 1 
> <br>&emsp;&emsp;ç¬¬äºŒæ¬¡ç§»åŠ¨ï¼Œä» 1 åˆ° -1 
> <br>&emsp;&emsp;ç¬¬ä¸‰æ¬¡ç§»åŠ¨ï¼Œä» -1 åˆ° 2 

**ç¤ºä¾‹2**
>è¾“å…¥ï¼š
> <br>&emsp;&emsp;target = 3
> 
>è¾“å‡ºï¼š
> <br>&emsp;&emsp;2
> 
>è§£é‡Šï¼š
> <br>&emsp;&emsp;ç¬¬ä¸€æ¬¡ç§»åŠ¨ï¼Œä» 0 åˆ° 1 
> <br>&emsp;&emsp;ç¬¬äºŒæ¬¡ç§»åŠ¨ï¼Œä» 1 åˆ° 3

**æç¤º**
<ul>
<li><kbd>-10^9 <= target <= 10^9</kbd></li>
<li><kbd>target != 0</kbd></li>
</ul>

**æ ¸å¿ƒä»£ç æ¨¡å¼**

```python3
from math import sqrt

class Solution:
    def reachNumber(self, target: int) -> int:
        target = abs(target)  # æ ¹æ®å¯¹ç§°æ€§ï¼Œå¯¹targetå–ç»å¯¹å€¼
        n = int((-1 + sqrt(1 + 8 * target)) / 2)  # æ ¹æ®æ±‚æ ¹å…¬å¼æ±‚å¾—å½“å‰n
        d = (n * (n + 1) >> 1) - target  # è®¡ç®—delta
        if d == 0:  # å¦‚æœdelta = 0
            return n  # å½“å‰nä¸ºæ‰€æ±‚
        else:  # å¦‚æœdelta < 0
            n += 1  # n++
            d += n  # æ›´æ–°deltaï¼Œæ­¤æ—¶delta > 0
            # deltaä¸ºå¶æ•°åˆ™è¿”å›å½“å‰nï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªå¯ä»¥ä»¤deltaä¸ºå¶æ•°çš„æœ€å°n
            return n + 1 + n % 2 if d & 1 else n
```

```cpp
// @å­ä¸è¯­ å‘å¸ƒåœ¨https://leetcode.cn/problems/reach-a-number/solutions/1946020/dao-da-zhong-dian-shu-zi-by-leetcode-sol-ak90/comments/1820961
class Solution {
public:
    int reachNumber(int target) {
        target = abs(target);
        int n = (-1 + sqrt(1 + 8.0 * target)) / 2;
        int d = target - n * (n + 1) / 2;
        if (!d) return n;
        d -= ++n;
        return (d & 1 ? n + 1 + n % 2 : n);
    }   
};
```

### ç‰¹åˆ«è¯´æ˜
&emsp;&emsp;é¦–å…ˆæ„Ÿè°¢ @å­ä¸è¯­ å¤§ä½¬å‘å¸ƒçš„ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹ä»£ç å®ç°çš„å¯å‘ã€‚é¢˜è§£é“¾æ¥ï¼š[å­ä¸è¯­-754. åˆ°è¾¾ç»ˆç‚¹æ•°å­—](https://leetcode.cn/problems/reach-a-number/solutions/1946020/dao-da-zhong-dian-shu-zi-by-leetcode-sol-ak90/comments/1820961)
<br>&emsp;&emsp;æœ¬æ–‡ä¾§é‡æ¢³ç†å¦‚ä½•ç”±å®˜æ–¹é¢˜è§£çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(|target|)$ å¾ªç¯è¿­ä»£æ–¹æ³•å‘æ—¶é—´å¤æ‚åº¦ä¸º $O(1)$ çš„ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹æ–¹æ³•çš„æ€è·¯ã€æµç¨‹çš„è½¬åŒ–ã€‚
<br>&emsp;&emsp;æ­¤å¤–è¿˜å¯¹å®˜æ–¹é¢˜è§£ä¸­ä¸€äº›çœç•¥çš„ã€è‡ªå·±æœ‰ç–‘é—®çš„é—®é¢˜ç»™å‡ºäº†è¯æ˜è¿‡ç¨‹ã€‚

### ä¸€ã€åŸºç¡€è®¾å®šï¼š
&emsp;&emsp;å®šä¹‰è‡ªç„¶æ•°çš„å‰ $n$ é¡¹å’Œï¼š**$S_{n}= \frac{n(n+1)}{2}$**
<br>&emsp;&emsp;åŒæ—¶å®šä¹‰ï¼š $S_{0}= 0$
<br>&emsp;&emsp;è®¾ï¼š**$delta=S_{n}-target= \frac{n(n+1)}{2}-target$**

### äºŒã€è§£é¢˜æ€è·¯ã€å¾ªç¯è¿­ä»£ã€‘ï¼š
å½“ $S_{n}$ ä» $n=0$ ~ $n$ è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œ

1. æ‰¾åˆ°ä¸€ä¸ªæœ€å°çš„ $ğ‘›$ ï¼Œä½¿å¾—æ»¡è¶³ $S_{n}=target$
2. æ‰¾åˆ°ä¸€ä¸ªæœ€å°çš„ $ğ‘›$ ï¼Œä½¿å¾—æ»¡è¶³ $delta=S_{n}âˆ’target>0$ ä¸” $ğ‘‘ğ‘’ğ‘™ğ‘¡ğ‘$ æ°å¥½æ˜¯ $0$ ~ $ğ‘›$ ä¸­çš„æŸå‡ ä¸ªæ•°å­—ä¹‹å’Œçš„2å€

### ä¸‰ã€è§„å¾‹æ¢ç´¢ï¼š
&emsp;&emsp;æ¯«æ— ç–‘é—®ï¼Œéå†è¿‡ç¨‹ä¸­ $delta$ çš„å€¼å¿…å…ˆ $<0$ ï¼Œæœ€ç»ˆå¯èƒ½é‡åˆ° $=0$ ï¼Œä¹Ÿå¯èƒ½é‡åˆ° $>0$ ã€‚

â‘  $delta$ ç”± $<0$ åˆ° $=0$ ï¼šå³ç­‰ä»·äº $target$ æ°å¥½ä¸ºæŸä¸ªå‰ $n$ é¡¹å’Œ $S_{n}$
å¾ªç¯è¿­ä»£è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š $(target=10)$

1. $n=0$ ï¼Œ $delta=S_{0}-10=-10$
2. $n=1$ ï¼Œ $delta=S_{1}-10=1-10=-9$
3. $n=2$ ï¼Œ $delta=S_{2}-10=3-10=-7$
4. $n=3$ ï¼Œ $delta=S_{3}-10=6-10=-4$
5. $n=4$ ï¼Œ $delta=S_{4}-10=10-10=0$ ï¼Œç¬¬1ã€2ã€3å’Œ4æ­¥å‡æ­£å‘èµ°å³å¯

![image](https://user-images.githubusercontent.com/92873873/200305426-e94b36cf-777b-45fe-980d-5d0b0002277d.png)

â‘¡ $delta$ ç”± $<0$ åˆ° $>0$ ï¼š
å¾ªç¯è¿­ä»£è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š $(target=14)$

1. $n=0$ ï¼Œ $delta=S_{0}-14=-14$
2. $n=1$ ï¼Œ $delta=S_{1}-14=1-14=-13$
3. $n=2$ ï¼Œ $delta=S_{2}-14=3-14=-11$
4. $n=3$ ï¼Œ $delta=S_{3}-14=6-14=-8$
5. $n=4$ ï¼Œ $delta=S_{4}-14=10-14=-4$
6. $n=5$ ï¼Œ $delta=S_{5}-14=15-14=1$ ï¼› $\frac{delta}{2}=\frac{1}{2}=0.5$ ä¸æ˜¯æ•´æ•°ï¼Œ $pass$
7. $n=6$ ï¼Œ $delta=S_{6}-14=21-14=7$ ï¼› $\frac{delta}{2}=\frac{7}{2}=3.5$ ä¸æ˜¯æ•´æ•°ï¼Œ $pass$
8. $n=7$ ï¼Œ $delta=S_{7}-14=28-14=14$ ï¼› $\frac{delta}{2}=\frac{14}{2}=7$ ï¼Œå‰6æ­¥æ­£å‘èµ°ï¼Œç¬¬7æ­¥è´Ÿå‘èµ°(ä¹Ÿå¯ä»¥ç†è§£å’Œä¸º7çš„ç¬¬16/25/34æ­¥è´Ÿå‘èµ°ï¼Œå…¶å®ƒæ­¥æ­£å‘èµ°)

![image](https://user-images.githubusercontent.com/92873873/200305502-56dd588f-a421-473e-a46c-2d7d2c5e0bb5.png)

&emsp;&emsp;ä¸Šè¿°è¿‡ç¨‹å¯ä»¥åšå¦‚ä¸‹æ€»ç»“ï¼š

<kbd>1</kbd> åˆå§‹ $n=0$ æ—¶ï¼Œå¿…æœ‰ $delta=S_{0}-target<0$ ï¼Œåˆ™éœ€è¦ $n$ ä¾æ¬¡å¢åŠ ï¼›

<kbd>2</kbd> å½“ $n=N-1$ æ—¶ï¼Œä»æœ‰ $delta=S_{N}-target<0$ ï¼Œåˆ™ç»§ç»­ $n++$

<kbd>3</kbd> å½“ $n=N$ æ—¶ï¼Œ

&emsp;&emsp;<kbd>3.1</kbd> å¦‚æœ $delta=0$ ï¼Œåˆ™ $N$ ä¸ºæ‰€æ±‚ï¼›

&emsp;&emsp;<kbd>3.2</kbd> å¦‚æœ $delta>0$ ï¼Œå¦‚æœ $delta$ ä¸ºå¶æ•°ï¼Œåˆ™ç­‰äº(æˆ–è€…å’Œç­‰äº) $\frac{delta}{2}$ çš„æ•°å­—(æˆ–è€…è‹¥å¹²æ•°å­—)ä¸ºè´Ÿæ•°å³å¯

&emsp;&emsp;<kbd>3.3</kbd> å¦‚æœ $delta>0$ ï¼Œå¦‚æœ $delta$ ä¸ºå¥‡æ•°ä¸” $N$ ä¸ºå¶æ•°ï¼Œåˆ™ $n=N+1$ ä¸ºæ‰€æ±‚ï¼Œæ­¤æ—¶ $delta=S_{N+1}-target$ ä¸ºå¶æ•°ã€‚æƒ…å†µå°±ä¸3.2ç›¸åŒ

&emsp;&emsp;<kbd>3.4</kbd> å¦‚æœ $delta>0$ ï¼Œå¦‚æœ $delta$ ä¸ºå¥‡æ•°ä¸” $N$ ä¸ºå¥‡æ•°ï¼Œåˆ™ $n=N+2$ ä¸ºæ‰€æ±‚ï¼Œæ­¤æ—¶ $delta=S_{N+2}-target$ ä¸ºå¶æ•°ã€‚æƒ…å†µå°±ä¸3.2ç›¸åŒ

### å››ã€æ€»ç»“ä¼˜åŒ–ã€å‘ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹è§£æ³•è½¬åŒ–ã€‘ï¼š
&emsp;&emsp;æ˜¾ç„¶å¦‚æœç®—æ³•æ˜¯æŒ‰ç…§<kbd>1</kbd>â†’<kbd>2</kbd>â†’<kbd>3</kbd>æµç¨‹ï¼Œæ—¶é—´å¤æ‚åº¦å³ä¸º $O(|target|)$ ï¼›
<br>&emsp;&emsp;å¦‚æœç®—æ³•å¯ä»¥åœ¨ç¬¬ä¸€æ­¥å°±ä»<kbd>2</kbd>å¼€å§‹ï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦å°±å¯ä»¥å˜æˆ $O(1)$ ï¼Œè¿™æ˜¯æˆ‘ä»¬è¿½æ±‚çš„ã€‚
<br>&emsp;&emsp;è§‚å¯Ÿ $delta=S_{n}-target= \frac{n(n+1)}{2}-target$ ï¼Œå‘ç°å…¶æ˜¯å½¢å¼ä¸Šçš„ $delta$ å…³äº $n$ çš„ä¸€å…ƒäºŒæ¬¡å‡½æ•°
<br>&emsp;&emsp;é€šè¿‡ä»¤ $delta(n)=0$ ï¼Œæ ¹æ®ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹æ±‚æ ¹å…¬å¼ä¸­è¾ƒå¤§æ ¹çš„æƒ…å†µ $n=\frac{-1 + \sqrt{1 + 8 \times target} }{2}$ (æ³¨æ„è¿™é‡Œ $n$ ä¸º $int$ ç±»å‹ï¼Œç›¸å½“äºå¯¹æ±‚æ ¹å…¬å¼è®¡ç®—ç»“æœå‘ä¸‹å–æ•´)ã€‚å¾—åˆ°çš„ $n$ æˆ–è€…æ»¡è¶³3.1çš„æƒ…å†µç›´æ¥æ±‚å‡º $n$ ï¼Œæˆ–è€…æ»¡è¶³<kbd>2</kbd>â†’<kbd>3.2</kbd>/<kbd>3.3</kbd>/<kbd>3.4</kbd>çš„æƒ…å†µ

### äº”ã€ä¸€äº›è®¨è®ºã€è‡ªå·±æƒ³é€šçš„å‡ ä¸ªç–‘æƒ‘ã€‘ï¼š
#### å‡è®¾ï¼šå½“ $delta$ ä¸ºå¶æ•°æ—¶ï¼Œå¿…ç„¶å­˜åœ¨ $1$ ~ $n$ ä¸­æŸä¸ªæ•°(æŸå‡ ä¸ªæ•°çš„å’Œ)ç­‰äº $\frac{delta}{2}$ ï¼Ÿ
&emsp;&emsp;å½“ $n=N$ æ—¶ï¼Œè‹¥æ»¡è¶³ $S_{N} < target < S_{N+1}$ ï¼Œè®¾ï¼š $k=-delta = target-S_{N}$ ï¼Œæ˜“å¾— $k \in [1,N-1]$

1. $k$ ä¸ºå¥‡æ•°ï¼Œ $N$ ä¸ºå¶æ•°ã€‚å½“ $n=N+1$ ï¼Œ $delta=N+1-k$ ä¸ºå¶æ•°ï¼Œä¸”æ˜“å¾—æ­¤æ—¶ $\frac{delta}{2}=\frac{N+1-k}{2}=\frac{n-k}{2} \le n$ ï¼Œå³ $\exists \frac{n-k}{2} \in [1, n]$ æ»¡è¶³å‡è®¾ã€‚
2. $k$ ä¸ºå¶æ•°ï¼Œ $N$ ä¸ºå¥‡æ•°ã€‚å½“ $n=N+1$ ï¼Œ $delta=N+1-k$ ä¸ºå¶æ•°ï¼Œä¸”æ˜“å¾—æ­¤æ—¶ $\frac{delta}{2}=\frac{N+1-k}{2}=\frac{n-k}{2} \le n$ ï¼Œå³ $\exists \frac{n-k}{2} \in [1, n]$ æ»¡è¶³å‡è®¾ã€‚
3. $k$ ä¸ºå¥‡æ•°ï¼Œ $N$ ä¸ºå¥‡æ•°ã€‚
	<br>3.1 å½“ $n=N+1$ ï¼Œ $delta=N+1-k$ ä¸ºå¥‡æ•°ï¼Œ
	<br>3.2 å½“ $n=N+2$ ï¼Œ $delta=2N+3-k$ ä¸ºå¶æ•°ï¼Œæ­¤æ—¶ $\frac{delta}{2}=\frac{2N+3-k}{2}=\frac{n+(n-1)-k}{2}=n-\frac{1+k}{2} \le n$ ï¼Œå³ $\exists \frac{n-k}{2} \in [1, n]$ æ»¡è¶³å‡è®¾ã€‚
4. $k$ ä¸ºå¶æ•°ï¼Œ $N$ ä¸ºå¶æ•°ã€‚
	<br>4.1 å½“ $n=N+1$ ï¼Œ $delta=N+1-k$ ä¸ºå¥‡æ•°ï¼Œ
	<br>4.2 å½“ $n=N+2$ ï¼Œ $delta=2N+3-k$ ä¸ºå¥‡æ•°ï¼Œ
	<br>4.3 å½“ $n=N+3$ ï¼Œ $delta=3N+6-k$ ä¸ºå¶æ•°ï¼Œæ­¤æ—¶ $\frac{delta}{2}=\frac{3N+6-k}{2}=\frac{3n-3-k}{2}=n+\frac{n-3-k}{2}$ ï¼Œå³ $\exists$ { $\frac{n-3-k}{2}, n$ } $\subseteq  [1, n]$ æ»¡è¶³å‡è®¾ã€‚
	&emsp;&emsp;P.S. è¯æ˜ $\frac{n-3-k}{2} \in [1, n]$ ï¼š
	<br>&emsp;&emsp; $\because k \in$ { $2, 4, \cdots, N-4, N-2$ } $\Leftrightarrow  k \in$ { $2, 4, \cdots, n-7, n-5$ }
	<br>&emsp;&emsp; $\therefore \frac{n-3-k}{2} \in$ { $1, 2, \cdots, \frac{n-3}{2}, \frac{n-1}{2}$ } $\subseteq  [1, n]$
  
  ä¸¾ä¸€ä¸ª $k=2$ çš„ä¾‹å­ï¼š
  
  ![image](https://user-images.githubusercontent.com/92873873/200305622-63b3bd81-e9b7-4a2c-ab90-90a9e0fde6a6.png)
